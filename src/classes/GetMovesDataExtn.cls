public with sharing class GetMovesDataExtn {
    public Account acc{get;set;}
    public String response{get;set;}
    public List<Moves_Data__c> moveList {get;set;}
    Long offset = 5500L * 60L * 60L;
    Date maxDate = null;
    Integer calloutCount = 0;
    
    public GetMovesDataExtn(ApexPages.StandardController controller) {
    moveList = new List<Moves_Data__c>();
        acc = [Select Id,Jawbone_Access_Token__c,(SELECT Id,Date__c FROM Moves_Data__r) FROM Account WHERE Id = :controller.getRecord().Id];
        for(Moves_Data__c s : acc.Moves_Data__r){
            if(maxDate==null || s.Date__c > maxDate)
                maxDate = s.Date__c;
        }
        system.debug('maxDate--------------->'+maxDate);
       dataCallout('https://jawbone.com/nudge/api/v.1.1/users/@me/moves');
    }
    
    private void dataCallout(String endpoint){
        HttpRequest req = new HttpRequest();
        req.setEndpoint(endpoint);
        req.setMethod('GET');
       req.setHeader('Authorization','Bearer '+acc.Jawbone_Access_Token__c);
     // req.setHeader('Authorization','Bearer '+'aV1SI82xvToh0Y0QK0Vif-LxZsI_ZfMz7I4wH0VUp2JC7LrLTyKlEWxFNFPnjA7TKMOqX0Y-lWB78thyDMNYJFECdgRlo_GULMgGZS0EumxrKbZFiOmnmAPChBPDZ5JP');
        req.setHeader('Accept','application/json');
        
        HttpResponse res = new Http().send(req);
        response = res.getBody();
        response = response.replace('"time"','"time2"');
        response = response.replace('"date"','"date2"');
        calloutCount++;
    }
    
    public void getData(){
      // JSONParser parser = JSON.createParser(response);
        JSONParser parser = JSON.createParser('{"meta": {"user_xid": "NO11TQABMSZM0Xry8NZFmg", "message": "OK", "code": 200, "time2": 1452090426}, "data": {"items": [{"time_completed": 1441084386, "xid": "PnSMEwtIq1etPRPDvgtjIJ3D46jxLcao", "title": "5,425 steps", "snapshot_image": "/nudge/image/e/1441503433/PnSMEwtIq1etPRPDvgtjIJ3D46jxLcao/RRuh17UxhWE.png", "time_created": 1441037343, "time_updated": 1452090426, "details": {"active_time": 2861, "tzs": [[1441004415, "America/Los_Angeles"]], "inactive_time": 29951, "wo_count": 0, "wo_longest": 0, "bmr": 1493.3901398, "bg_calories": 303.325275481, "hourly_totals": {"2015083120": {"distance": 8.0, "active_time": 0, "calories": 4.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 15, "longest_active_time": 0}, "2015083121": {"distance": 825.0, "active_time": 620, "calories": 49.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 1049, "longest_active_time": 434}, "2015083122": {"distance": 57.5541095734, "active_time": 0, "calories": 7.41224837303, "inactive_time": 0, "longest_idle_time": 0, "steps": 83, "longest_active_time": 0}, "2015083115": {"distance": 484.951057434, "active_time": 376, "calories": 34.5584149361, "inactive_time": 3063, "longest_idle_time": 2561, "steps": 606, "longest_active_time": 246}, "2015083114": {"distance": 274.0, "active_time": 61, "calories": 35.0, "inactive_time": 3481, "longest_idle_time": 3375, "steps": 421, "longest_active_time": 61}, "2015083117": {"distance": 181.738664627, "active_time": 0, "calories": 13.3546121716, "inactive_time": 0, "longest_idle_time": 0, "steps": 237, "longest_active_time": 0}, "2015083116": {"distance": 332.0, "active_time": 311, "calories": 29.0, "inactive_time": 2359, "longest_idle_time": 635, "steps": 426, "longest_active_time": 123}, "2015083111": {"distance": 347.0, "active_time": 311, "calories": 19.0, "inactive_time": 3128, "longest_idle_time": 2066, "steps": 469, "longest_active_time": 186}, "2015083110": {"distance": 94.0, "active_time": 0, "calories": 26.0, "inactive_time": 3598, "longest_idle_time": 3598, "steps": 170, "longest_active_time": 0}, "2015083113": {"distance": 444.0, "active_time": 374, "calories": 21.0, "inactive_time": 3143, "longest_idle_time": 2887, "steps": 579, "longest_active_time": 249}, "2015083112": {"distance": 601.0, "active_time": 561, "calories": 28.0, "inactive_time": 2850, "longest_idle_time": 1691, "steps": 806, "longest_active_time": 313}, "2015083119": {"distance": 32.0, "active_time": 0, "calories": 5.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 50, "longest_active_time": 0}, "2015083118": {"distance": 22.0, "active_time": 0, "calories": 6.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 34, "longest_active_time": 0}, "2015083109": {"distance": 368.0, "active_time": 247, "calories": 26.0, "inactive_time": 3183, "longest_idle_time": 1322, "steps": 480, "longest_active_time": 62}}, "bmr_day": 1493.3901398, "wo_active_time": 0, "sunrise": 0, "distance": 4071.24383163, "tz": "America/Los_Angeles", "longest_active": 434, "longest_idle": 5965, "calories": 354.470120284, "km": 4.07124383163, "series_ids": [2255037486], "steps": 5425, "wo_calories": 0, "wo_time": 0, "sunset": 0}, "date2": 20150831, "type": "move"}, {"time_completed": 1440992333, "xid": "PnSMEwtIq1cwKUbnf4Vd3y2h8IY0D5Oy", "title": "9,845 steps", "type": "move", "time_created": 1440946067, "time_updated": 1452090426, "details": {"active_time": 4579, "tzs": [[1440918045, "America/Los_Angeles"]], "bmr_day": 1462.69573176, "wo_count": 0, "wo_longest": 0, "bmr": 1462.69573176, "bg_calories": 611.479256868, "hourly_totals": {"2015083018": {"distance": 4801.0, "active_time": 2046, "calories": 283.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 4304, "longest_active_time": 1735}, "2015083019": {"distance": 4753.0, "active_time": 2163, "calories": 276.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 4544, "longest_active_time": 1915}, "2015083009": {"distance": 31.3821296692, "active_time": 0, "calories": 1.43611192703, "inactive_time": 2683, "longest_idle_time": 2683, "steps": 39, "longest_active_time": 0}, "2015083008": {"distance": 224.0, "active_time": 186, "calories": 18.0, "inactive_time": 2919, "longest_idle_time": 1813, "steps": 304, "longest_active_time": 123}, "2015083007": {"distance": 150.47328949, "active_time": 0, "calories": 7.61859321594, "inactive_time": 0, "longest_idle_time": 0, "steps": 187, "longest_active_time": 0}, "2015083015": {"distance": 171.394714355, "active_time": 0, "calories": 8.42455172539, "inactive_time": 879, "longest_idle_time": 879, "steps": 213, "longest_active_time": 0}, "2015083017": {"distance": 1.0, "active_time": 0, "calories": 2.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 6, "longest_active_time": 0}, "2015083020": {"distance": 179.0, "active_time": 184, "calories": 15.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 248, "longest_active_time": 63}}, "wo_time": 0, "wo_active_time": 0, "sunrise": 0, "distance": 10311.2501335, "tz": "America/Los_Angeles", "longest_active": 3650, "longest_idle": 29355, "calories": 693.33701656, "km": 10.3112501335, "series_ids": [2252281930], "steps": 9845, "wo_calories": 0, "inactive_time": 32212, "sunset": 0}, "date2": 20150830, "snapshot_image": "/nudge/image/e/1441503430/PnSMEwtIq1cwKUbnf4Vd3y2h8IY0D5Oy/RRuh17UxhWE.png"}, {"time_updated": 1452090426, "xid": "PnSMEwtIq1cd1LKMxqewj5BxYIUWZC9Q", "title": "2,765 steps", "snapshot_image": "/nudge/image/e/1440955224/PnSMEwtIq1cd1LKMxqewj5BxYIUWZC9Q/RRuh17UxhWE.png", "time_created": 1440831676, "time_completed": 1440915259, "details": {"active_time": 939, "tzs": [[1440831613, "America/Los_Angeles"]], "bmr_day": 1527.78550401, "wo_count": 0, "wo_longest": 0, "bmr": 1527.78550401, "bg_calories": 219.127500415, "hourly_totals": {"2015082900": {"distance": 60.0, "active_time": 62, "calories": 3.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 71, "longest_active_time": 62}, "2015082903": {"distance": 0.0, "active_time": 0, "calories": 1.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 2, "longest_active_time": 0}, "2015082916": {"distance": 173.0, "active_time": 186, "calories": 20.0, "inactive_time": 3123, "longest_idle_time": 2767, "steps": 247, "longest_active_time": 186}, "2015082917": {"distance": 294.43735981, "active_time": 185, "calories": 24.2929181457, "inactive_time": 0, "longest_idle_time": 0, "steps": 408, "longest_active_time": 62}, "2015082907": {"distance": 339.0, "active_time": 246, "calories": 25.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 480, "longest_active_time": 122}, "2015082906": {"distance": 11.0, "active_time": 0, "calories": 4.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 22, "longest_active_time": 0}, "2015082909": {"distance": 41.0, "active_time": 0, "calories": 4.0, "inactive_time": 362, "longest_idle_time": 362, "steps": 66, "longest_active_time": 0}, "2015082908": {"distance": 242.0, "active_time": 0, "calories": 29.0, "inactive_time": 3585, "longest_idle_time": 3585, "steps": 359, "longest_active_time": 0}, "2015082918": {"distance": 213.851369858, "active_time": 122, "calories": 24.3990118504, "inactive_time": 0, "longest_idle_time": 0, "steps": 327, "longest_active_time": 62}, "2015082919": {"distance": 58.0, "active_time": 0, "calories": 25.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 115, "longest_active_time": 0}, "2015082923": {"distance": 18.5074100494, "active_time": 10, "calories": 1.04420983791, "inactive_time": 0, "longest_idle_time": 0, "steps": 23, "longest_active_time": 10}, "2015082921": {"distance": 236.43735981, "active_time": 128, "calories": 20.3913605809, "inactive_time": 0, "longest_idle_time": 0, "steps": 338, "longest_active_time": 126}, "2015082920": {"distance": 162.0, "active_time": 0, "calories": 30.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 263, "longest_active_time": 0}, "2015082915": {"distance": 23.0, "active_time": 0, "calories": 8.0, "inactive_time": 3455, "longest_idle_time": 3455, "steps": 44, "longest_active_time": 0}}, "wo_time": 0, "wo_active_time": 0, "sunrise": 0, "distance": 1872.23349953, "tz": "America/Los_Angeles", "longest_active": 186, "longest_idle": 29156, "calories": 235.913994702, "km": 1.87223349953, "series_ids": [2251910158], "steps": 2765, "wo_calories": 0, "inactive_time": 32212, "sunset": 0}, "date2": 20150829, "type": "move"}, {"time_completed": 1440831549, "xid": "PnSMEwtIq1deEsCT56dEsIFd2XTvVdci", "title": "4,178 steps", "type": "move", "time_created": 1440759846, "time_updated": 1452090426, "details": {"active_time": 891, "tzs": [[1440745229, "America/Los_Angeles"]], "bmr_day": 1528.66191557, "wo_count": 0, "wo_longest": 0, "bmr": 1528.66191557, "bg_calories": 203.569148749, "hourly_totals": {"2015082808": {"distance": 351.0, "active_time": 306, "calories": 25.0, "inactive_time": 2696, "longest_idle_time": 1384, "steps": 468, "longest_active_time": 122}, "2015082809": {"distance": 12.8747196198, "active_time": 3, "calories": 0.744739949703, "inactive_time": 3424, "longest_idle_time": 3424, "steps": 16, "longest_active_time": 3}, "2015082819": {"distance": 78.0, "active_time": 0, "calories": 8.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 111, "longest_active_time": 0}, "2015082818": {"distance": 409.0, "active_time": 123, "calories": 30.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 585, "longest_active_time": 63}, "2015082817": {"distance": 118.677146912, "active_time": 0, "calories": 6.3927731514, "inactive_time": 0, "longest_idle_time": 0, "steps": 149, "longest_active_time": 0}, "2015082813": {"distance": 227.721600533, "active_time": 3, "calories": 10.5349692404, "inactive_time": 2407, "longest_idle_time": 1335, "steps": 283, "longest_active_time": 3}, "2015082815": {"distance": 490.848707199, "active_time": 0, "calories": 27.3611572981, "inactive_time": 2580, "longest_idle_time": 2580, "steps": 610, "longest_active_time": 0}, "2015082814": {"distance": 82.0763397217, "active_time": 0, "calories": 3.69846796989, "inactive_time": 658, "longest_idle_time": 658, "steps": 102, "longest_active_time": 0}, "2015082804": {"distance": 11.0, "active_time": 0, "calories": 5.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 26, "longest_active_time": 0}, "2015082807": {"distance": 70.0, "active_time": 63, "calories": 5.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 95, "longest_active_time": 63}, "2015082823": {"distance": 10.0, "active_time": 0, "calories": 4.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 18, "longest_active_time": 0}, "2015082820": {"distance": 266.0, "active_time": 62, "calories": 21.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 397, "longest_active_time": 62}, "2015082816": {"distance": 1021.12623215, "active_time": 331, "calories": 49.8370411396, "inactive_time": 3054, "longest_idle_time": 2180, "steps": 1269, "longest_active_time": 135}, "2015082821": {"distance": 28.0, "active_time": 0, "calories": 7.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 49, "longest_active_time": 0}}, "wo_time": 0, "wo_active_time": 0, "sunrise": 0, "distance": 3176.32474613, "tz": "America/Los_Angeles", "longest_active": 185, "longest_idle": 12251, "calories": 219.497738333, "km": 3.17632474613, "series_ids": [2251910122], "steps": 4178, "wo_calories": 0, "inactive_time": 31668, "sunset": 0}, "date2": 20150828, "snapshot_image": "/nudge/image/e/1440877584/PnSMEwtIq1deEsCT56dEsIFd2XTvVdci/RRuh17UxhWE.png"}, {"time_completed": 1440739991, "xid": "PnSMEwtIq1e6x_QOdgdYEb4wSbORD_U2", "title": "12,324 steps", "type": "move", "time_created": 1440655926, "time_updated": 1452090426, "details": {"active_time": 5825, "tzs": [[1440651630, "America/Chicago"], [1440736045, "America/Los_Angeles"]], "bmr_day": 1440.47304562, "wo_count": 0, "wo_longest": 0, "bmr": 1440.47304562, "bg_calories": 831.657490581, "hourly_totals": {"2015082718": {"distance": 9.0, "active_time": 0, "calories": 2.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 13, "longest_active_time": 0}, "2015082719": {"distance": 18.0, "active_time": 0, "calories": 4.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 28, "longest_active_time": 0}, "2015082713": {"distance": 163.0, "active_time": 188, "calories": 11.0, "inactive_time": 3600, "longest_idle_time": 3600, "steps": 229, "longest_active_time": 63}, "2015082708": {"distance": 229.0, "active_time": 123, "calories": 21.0, "inactive_time": 3600, "longest_idle_time": 3600, "steps": 341, "longest_active_time": 62}, "2015082707": {"distance": 5729.0, "active_time": 2292, "calories": 345.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 5224, "longest_active_time": 2292}, "2015082706": {"distance": 3360.0, "active_time": 1362, "calories": 205.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 2969, "longest_active_time": 1177}, "2015082705": {"distance": 6.0, "active_time": 0, "calories": 3.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 14, "longest_active_time": 0}, "2015082704": {"distance": 2.0, "active_time": 0, "calories": 1.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 4, "longest_active_time": 0}, "2015082714": {"distance": 575.0, "active_time": 551, "calories": 36.0, "inactive_time": 3600, "longest_idle_time": 3600, "steps": 793, "longest_active_time": 122}, "2015082715": {"distance": 251.656040192, "active_time": 252, "calories": 16.5870549679, "inactive_time": 3600, "longest_idle_time": 3600, "steps": 314, "longest_active_time": 125}, "2015082701": {"distance": 5.0, "active_time": 0, "calories": 3.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 13, "longest_active_time": 0}, "2015082717": {"distance": 4.0, "active_time": 0, "calories": 5.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 13, "longest_active_time": 0}, "2015082710": {"distance": 170.851369858, "active_time": 122, "calories": 21.3990214169, "inactive_time": 3600, "longest_idle_time": 3600, "steps": 243, "longest_active_time": 61}, "2015082721": {"distance": 231.0, "active_time": 186, "calories": 34.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 348, "longest_active_time": 124}, "2015082716": {"distance": 653.0, "active_time": 431, "calories": 43.0, "inactive_time": 3600, "longest_idle_time": 3600, "steps": 837, "longest_active_time": 185}, "2015082723": {"distance": 137.280200005, "active_time": 63, "calories": 13.2003031969, "inactive_time": 0, "longest_idle_time": 0, "steps": 191, "longest_active_time": 63}, "2015082722": {"distance": 289.288729668, "active_time": 130, "calories": 34.8840560317, "inactive_time": 0, "longest_idle_time": 0, "steps": 431, "longest_active_time": 61}, "2015082711": {"distance": 70.0, "active_time": 61, "calories": 9.0, "inactive_time": 3600, "longest_idle_time": 3600, "steps": 95, "longest_active_time": 61}, "2015082712": {"distance": 127.0, "active_time": 61, "calories": 20.0, "inactive_time": 3600, "longest_idle_time": 3600, "steps": 204, "longest_active_time": 61}, "2015082720": {"distance": 11.6560401917, "active_time": 3, "calories": 3.58705496788, "inactive_time": 0, "longest_idle_time": 0, "steps": 20, "longest_active_time": 3}}, "wo_time": 0, "wo_active_time": 0, "sunrise": 0, "distance": 12041.7323799, "tz": "America/Los_Angeles", "longest_active": 3469, "longest_idle": 32400, "calories": 935.793456957, "km": 12.0417323799, "series_ids": [2251910116], "steps": 12324, "wo_calories": 0, "inactive_time": 32400, "sunset": 0}, "date2": 20150827, "snapshot_image": "/nudge/image/e/1440877581/PnSMEwtIq1e6x_QOdgdYEb4wSbORD_U2/RRuh17UxhWE.png"}, {"time_completed": 1440646656, "xid": "PnSMEwtIq1e76uUL1Y_a3lnr0VDSva3g", "title": "5,016 steps", "type": "move", "time_created": 1440584930, "time_updated": 1452090426, "details": {"active_time": 2306, "tzs": [[1440572424, "America/Los_Angeles"], [1440594107, "America/Chicago"]], "bmr_day": 1503.40169641, "wo_count": 0, "wo_longest": 0, "bmr": 1503.40169641, "bg_calories": 324.608609855, "hourly_totals": {"2015082620": {"distance": 259.0, "active_time": 183, "calories": 27.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 376, "longest_active_time": 61}, "2015082621": {"distance": 251.0, "active_time": 62, "calories": 23.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 357, "longest_active_time": 62}, "2015082622": {"distance": 0.0, "active_time": 0, "calories": 1.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 2, "longest_active_time": 0}, "2015082609": {"distance": 365.0, "active_time": 247, "calories": 25.0, "inactive_time": 3231, "longest_idle_time": 1815, "steps": 504, "longest_active_time": 185}, "2015082615": {"distance": 111.0, "active_time": 61, "calories": 18.0, "inactive_time": 3498, "longest_idle_time": 1881, "steps": 175, "longest_active_time": 61}, "2015082614": {"distance": 151.0, "active_time": 125, "calories": 8.0, "inactive_time": 3403, "longest_idle_time": 3340, "steps": 202, "longest_active_time": 63}, "2015082617": {"distance": 441.0, "active_time": 249, "calories": 32.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 665, "longest_active_time": 186}, "2015082605": {"distance": 1.0, "active_time": 0, "calories": 1.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 3, "longest_active_time": 0}, "2015082611": {"distance": 265.0, "active_time": 123, "calories": 25.0, "inactive_time": 3421, "longest_idle_time": 2376, "steps": 385, "longest_active_time": 63}, "2015082603": {"distance": 4.0, "active_time": 0, "calories": 3.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 11, "longest_active_time": 0}, "2015082613": {"distance": 313.0, "active_time": 248, "calories": 27.0, "inactive_time": 3113, "longest_idle_time": 2697, "steps": 430, "longest_active_time": 125}, "2015082612": {"distance": 368.0, "active_time": 376, "calories": 30.0, "inactive_time": 3203, "longest_idle_time": 2194, "steps": 518, "longest_active_time": 125}, "2015082610": {"distance": 274.0, "active_time": 185, "calories": 24.0, "inactive_time": 3266, "longest_idle_time": 2320, "steps": 384, "longest_active_time": 62}, "2015082619": {"distance": 43.0, "active_time": 0, "calories": 18.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 92, "longest_active_time": 0}, "2015082618": {"distance": 29.0, "active_time": 0, "calories": 20.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 76, "longest_active_time": 0}, "2015082608": {"distance": 386.0, "active_time": 312, "calories": 24.0, "inactive_time": 3192, "longest_idle_time": 2644, "steps": 513, "longest_active_time": 187}, "2015082616": {"distance": 221.87471962, "active_time": 135, "calories": 18.6086098552, "inactive_time": 3211, "longest_idle_time": 1559, "steps": 323, "longest_active_time": 125}}, "wo_time": 0, "wo_active_time": 0, "sunrise": 0, "distance": 3482.87471962, "tz": "America/Chicago", "longest_active": 187, "longest_idle": 6272, "calories": 365.834432291, "km": 3.48287471962, "series_ids": [2251910114], "steps": 5016, "wo_calories": 0, "inactive_time": 30331, "sunset": 0}, "date2": 20150826, "snapshot_image": "/nudge/image/e/1440877577/PnSMEwtIq1e76uUL1Y_a3lnr0VDSva3g/RRuh17UxhWE.png"}, {"time_completed": 1440569952, "xid": "PnSMEwtIq1eQchZVfFax1r88V3v7sFTM", "title": "5,636 steps", "type": "move", "time_created": 1440487307, "time_updated": 1452090426, "details": {"active_time": 2857, "tzs": [[1440486061, "America/Los_Angeles"]], "bmr_day": 1493.56901533, "wo_count": 0, "wo_longest": 0, "bmr": 1493.56901533, "bg_calories": 386.667520046, "hourly_totals": {"2015082515": {"distance": 120.0, "active_time": 0, "calories": 22.0, "inactive_time": 3419, "longest_idle_time": 3419, "steps": 192, "longest_active_time": 0}, "2015082521": {"distance": 642.0, "active_time": 436, "calories": 43.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 841, "longest_active_time": 311}, "2015082510": {"distance": 416.0, "active_time": 311, "calories": 27.0, "inactive_time": 3119, "longest_idle_time": 1885, "steps": 572, "longest_active_time": 187}, "2015082512": {"distance": 122.0, "active_time": 63, "calories": 23.0, "inactive_time": 3434, "longest_idle_time": 1871, "steps": 208, "longest_active_time": 63}, "2015082520": {"distance": 46.0, "active_time": 0, "calories": 15.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 79, "longest_active_time": 0}, "2015082508": {"distance": 26.0, "active_time": 0, "calories": 8.0, "inactive_time": 3494, "longest_idle_time": 3494, "steps": 48, "longest_active_time": 0}, "2015082509": {"distance": 307.0, "active_time": 308, "calories": 30.0, "inactive_time": 3268, "longest_idle_time": 3127, "steps": 424, "longest_active_time": 247}, "2015082513": {"distance": 316.0, "active_time": 311, "calories": 20.0, "inactive_time": 2191, "longest_idle_time": 2191, "steps": 444, "longest_active_time": 311}, "2015082514": {"distance": 555.0, "active_time": 494, "calories": 39.0, "inactive_time": 3073, "longest_idle_time": 2702, "steps": 768, "longest_active_time": 494}, "2015082523": {"distance": 14.0, "active_time": 0, "calories": 3.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 20, "longest_active_time": 0}, "2015082522": {"distance": 107.709030151, "active_time": 66, "calories": 10.1840529442, "inactive_time": 0, "longest_idle_time": 0, "steps": 152, "longest_active_time": 66}, "2015082518": {"distance": 27.0, "active_time": 0, "calories": 13.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 46, "longest_active_time": 0}, "2015082519": {"distance": 50.0, "active_time": 0, "calories": 18.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 99, "longest_active_time": 0}, "2015082516": {"distance": 445.0, "active_time": 372, "calories": 31.0, "inactive_time": 3195, "longest_idle_time": 2196, "steps": 589, "longest_active_time": 125}, "2015082517": {"distance": 202.0, "active_time": 124, "calories": 34.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 331, "longest_active_time": 62}, "2015082507": {"distance": 254.878768921, "active_time": 63, "calories": 13.4834671021, "inactive_time": 0, "longest_idle_time": 0, "steps": 329, "longest_active_time": 63}, "2015082506": {"distance": 155.0, "active_time": 124, "calories": 9.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 187, "longest_active_time": 63}, "2015082501": {"distance": 0.0, "active_time": 0, "calories": 1.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 1, "longest_active_time": 0}, "2015082500": {"distance": 64.0, "active_time": 60, "calories": 8.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 96, "longest_active_time": 60}, "2015082503": {"distance": 1.0, "active_time": 0, "calories": 2.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 4, "longest_active_time": 0}, "2015082511": {"distance": 130.0, "active_time": 125, "calories": 17.0, "inactive_time": 3509, "longest_idle_time": 3509, "steps": 206, "longest_active_time": 125}}, "wo_time": 0, "wo_active_time": 0, "sunrise": 0, "distance": 4000.58779907, "tz": "America/Los_Angeles", "longest_active": 494, "longest_idle": 8527, "calories": 437.74453041, "km": 4.00058779907, "series_ids": [2218035770], "steps": 5636, "wo_calories": 0, "inactive_time": 30180, "sunset": 0}, "date2": 20150825, "snapshot_image": "/nudge/image/e/1440877575/PnSMEwtIq1eQchZVfFax1r88V3v7sFTM/RRuh17UxhWE.png"}, {"time_updated": 1452090426, "xid": "PnSMEwtIq1cZv8DZeWE0T5aRmnU-ZsBz", "title": "10,299 steps", "snapshot_image": "/nudge/image/e/1440486097/PnSMEwtIq1cZv8DZeWE0T5aRmnU-ZsBz/RRuh17UxhWE.png", "time_created": 1440402966, "time_completed": 1440478270, "details": {"active_time": 6449, "tzs": [[1440399660, "America/Los_Angeles"]], "bmr_day": 1429.36891252, "wo_count": 1, "wo_longest": 3600, "bmr": 1429.36891252, "bg_calories": 721.0, "hourly_totals": {"2015082404": {"distance": 20.0, "active_time": 0, "calories": 6.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 37, "longest_active_time": 0}, "2015082405": {"distance": 109.0, "active_time": 62, "calories": 7.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 131, "longest_active_time": 62}, "2015082420": {"distance": 7168.0, "active_time": 2791, "calories": 440.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 6366, "longest_active_time": 2666}, "2015082407": {"distance": 175.0, "active_time": 183, "calories": 14.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 255, "longest_active_time": 62}, "2015082400": {"distance": 4.0, "active_time": 0, "calories": 1.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 5, "longest_active_time": 0}, "2015082402": {"distance": 3.0, "active_time": 0, "calories": 1.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 5, "longest_active_time": 0}, "2015082408": {"distance": 31.0, "active_time": 0, "calories": 7.0, "inactive_time": 3565, "longest_idle_time": 3565, "steps": 50, "longest_active_time": 0}, "2015082409": {"distance": 49.0, "active_time": 0, "calories": 10.0, "inactive_time": 3537, "longest_idle_time": 3537, "steps": 86, "longest_active_time": 0}, "2015082419": {"distance": 262.0, "active_time": 186, "calories": 17.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 360, "longest_active_time": 125}, "2015082418": {"distance": 200.0, "active_time": 186, "calories": 23.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 291, "longest_active_time": 124}, "2015082421": {"distance": 1446.0, "active_time": 740, "calories": 84.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 1515, "longest_active_time": 307}, "2015082413": {"distance": 20.0, "active_time": 0, "calories": 8.0, "inactive_time": 3027, "longest_idle_time": 3027, "steps": 38, "longest_active_time": 0}, "2015082412": {"distance": 155.0, "active_time": 63, "calories": 12.0, "inactive_time": 3489, "longest_idle_time": 1941, "steps": 222, "longest_active_time": 63}, "2015082411": {"distance": 264.0, "active_time": 184, "calories": 19.0, "inactive_time": 3399, "longest_idle_time": 3276, "steps": 359, "longest_active_time": 124}, "2015082410": {"distance": 29.0, "active_time": 0, "calories": 13.0, "inactive_time": 2634, "longest_idle_time": 2634, "steps": 56, "longest_active_time": 0}, "2015082417": {"distance": 49.0, "active_time": 0, "calories": 17.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 87, "longest_active_time": 0}, "2015082416": {"distance": 19.0, "active_time": 0, "calories": 11.0, "inactive_time": 3440, "longest_idle_time": 3440, "steps": 40, "longest_active_time": 0}, "2015082415": {"distance": 101.0, "active_time": 0, "calories": 16.0, "inactive_time": 3231, "longest_idle_time": 3231, "steps": 154, "longest_active_time": 0}, "2015082414": {"distance": 170.0, "active_time": 124, "calories": 15.0, "inactive_time": 3374, "longest_idle_time": 3008, "steps": 242, "longest_active_time": 63}}, "wo_time": 3600, "wo_active_time": 1930, "sunrise": 0, "distance": 10274.0, "tz": "America/Los_Angeles", "longest_active": 3600, "longest_idle": 14076, "calories": 1074.29562003, "km": 10.274, "series_ids": [2205079032], "steps": 10299, "wo_calories": 238, "inactive_time": 32024, "sunset": 0}, "date2": 20150824, "type": "move"}, {"time_updated": 1452090426, "xid": "PnSMEwtIq1envDgSjM-MqbJfFryrw4ZY", "title": "1,434 steps", "snapshot_image": "/nudge/image/e/1440635166/PnSMEwtIq1envDgSjM-MqbJfFryrw4ZY/RRuh17UxhWE.png", "time_created": 1440343105, "time_completed": 1440395894, "details": {"active_time": 495, "tzs": [[1440313227, "America/Los_Angeles"]], "bmr_day": 1535.83329282, "wo_count": 0, "wo_longest": 0, "bmr": 1535.83329282, "bg_calories": 83.8878272772, "hourly_totals": {"2015082321": {"distance": 130.0, "active_time": 124, "calories": 15.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 198, "longest_active_time": 63}, "2015082308": {"distance": 174.613388062, "active_time": 0, "calories": 9.12525844574, "inactive_time": 1443, "longest_idle_time": 1443, "steps": 217, "longest_active_time": 0}, "2015082322": {"distance": 235.0, "active_time": 185, "calories": 21.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 325, "longest_active_time": 123}, "2015082314": {"distance": 20.9214200974, "active_time": 7, "calories": 1.31498628855, "inactive_time": 575, "longest_idle_time": 337, "steps": 26, "longest_active_time": 5}, "2015082320": {"distance": 145.0, "active_time": 124, "calories": 13.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 201, "longest_active_time": 124}, "2015082317": {"distance": 43.4521799088, "active_time": 2, "calories": 6.22222566605, "inactive_time": 0, "longest_idle_time": 0, "steps": 54, "longest_active_time": 2}, "2015082312": {"distance": 35.4054794312, "active_time": 0, "calories": 1.62670838833, "inactive_time": 3575, "longest_idle_time": 3575, "steps": 44, "longest_active_time": 0}, "2015082313": {"distance": 203.581506729, "active_time": 53, "calories": 10.5986484885, "inactive_time": 605, "longest_idle_time": 398, "steps": 253, "longest_active_time": 43}, "2015082319": {"distance": 83.0, "active_time": 0, "calories": 6.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 116, "longest_active_time": 0}}, "wo_time": 0, "wo_active_time": 0, "sunrise": 0, "distance": 1070.97397423, "tz": "America/Los_Angeles", "longest_active": 124, "longest_idle": 18207, "calories": 92.7375738571, "km": 1.07097397423, "series_ids": [2132437544], "steps": 1434, "wo_calories": 0, "inactive_time": 31922, "sunset": 0}, "date2": 20150823, "type": "move"}, {"time_completed": 1440304154, "xid": "PnSMEwtIq1ce8szGbo8SQ4RC1K5EZfEr", "title": "11,348 steps", "snapshot_image": "/nudge/image/e/1440356317/PnSMEwtIq1ce8szGbo8SQ4RC1K5EZfEr/RRuh17UxhWE.png", "time_created": 1440187254, "time_updated": 1452090426, "details": {"active_time": 7463, "tzs": [[1440187254, "Asia/Dubai"], [1440226808, "America/Los_Angeles"]], "bmr_day": 1411.27437449, "wo_count": 1, "wo_longest": 3600, "bmr": 1411.27437449, "bg_calories": 688.194840968, "hourly_totals": {"2015082220": {"distance": 447.0, "active_time": 433, "calories": 23.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 654, "longest_active_time": 247}, "2015082213": {"distance": 181.05075264, "active_time": 74, "calories": 13.6786407232, "inactive_time": 3600, "longest_idle_time": 3600, "steps": 225, "longest_active_time": 61}, "2015082211": {"distance": 30.7260894775, "active_time": 0, "calories": 6.54233217239, "inactive_time": 3600, "longest_idle_time": 3600, "steps": 38, "longest_active_time": 0}, "2015082212": {"distance": 288.071867943, "active_time": 0, "calories": 22.260215044, "inactive_time": 3600, "longest_idle_time": 3600, "steps": 358, "longest_active_time": 0}, "2015082200": {"distance": 336.0, "active_time": 247, "calories": 23.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 476, "longest_active_time": 125}, "2015082201": {"distance": 129.0, "active_time": 61, "calories": 8.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 194, "longest_active_time": 61}, "2015082215": {"distance": 313.01663208, "active_time": 0, "calories": 17.5486288071, "inactive_time": 3600, "longest_idle_time": 3600, "steps": 389, "longest_active_time": 0}, "2015082214": {"distance": 243.815006256, "active_time": 10, "calories": 16.3720318675, "inactive_time": 3600, "longest_idle_time": 3600, "steps": 303, "longest_active_time": 10}, "2015082217": {"distance": 14.0, "active_time": 0, "calories": 6.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 26, "longest_active_time": 0}, "2015082216": {"distance": 160.575218201, "active_time": 0, "calories": 13.081756115, "inactive_time": 3600, "longest_idle_time": 3600, "steps": 210, "longest_active_time": 0}, "2015082219": {"distance": 7531.0, "active_time": 2968, "calories": 448.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 6788, "longest_active_time": 2907}, "2015082218": {"distance": 1370.0, "active_time": 810, "calories": 72.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 1396, "longest_active_time": 372}, "2015082208": {"distance": 193.120807648, "active_time": 0, "calories": 10.7112362385, "inactive_time": 3600, "longest_idle_time": 3600, "steps": 240, "longest_active_time": 0}, "2015082221": {"distance": 31.0, "active_time": 0, "calories": 8.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 51, "longest_active_time": 0}}, "wo_time": 3600, "wo_active_time": 2860, "sunrise": 0, "distance": 11268.3763742, "tz": "America/Los_Angeles", "longest_active": 3600, "longest_idle": 20191, "calories": 1265.62201272, "km": 11.2683763742, "series_ids": [2093062548], "steps": 11348, "wo_calories": 444, "inactive_time": 31962, "sunset": 0}, "date2": 20150822, "type": "move"}], "links": {"next": "/nudge/api/v.1.1/users/NO11TQABMSZM0Xry8NZFmg/moves?page_token=1440304154&limit=10"}, "size": 10}}');
        //JSONParser parser = JSON.createParser('{"meta": {"user_xid": "NO11TQABMSZM0Xry8NZFmg", "message": "OK", "code": 200, "time2": 1452076849}, "data": {"items": [{"time_updated": 1452076849, "xid": "PnSMEwtIq1etPRPDvgtjIJ3D46jxLcao", "title": "5,425 steps", "type": "move", "time_created": 1441037343, "time_completed": 1441084386, "details": {"active_time": 2861, "tzs": [[1441004415, "America/Los_Angeles"]], "inactive_time": 29951, "wo_count": 0, "wo_longest": 0, "bmr": 1493.3901398, "bg_calories": 303.325275481, "hourly_totals": {"2015083120": {"distance": 8.0, "active_time": 0, "calories": 4.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 15, "longest_active_time": 0}, "2015083121": {"distance": 825.0, "active_time": 620, "calories": 49.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 1049, "longest_active_time": 434}, "2015083122": {"distance": 57.5541095734, "active_time": 0, "calories": 7.41224837303, "inactive_time": 0, "longest_idle_time": 0, "steps": 83, "longest_active_time": 0}, "2015083115": {"distance": 484.951057434, "active_time": 376, "calories": 34.5584149361, "inactive_time": 3063, "longest_idle_time": 2561, "steps": 606, "longest_active_time": 246}, "2015083114": {"distance": 274.0, "active_time": 61, "calories": 35.0, "inactive_time": 3481, "longest_idle_time": 3375, "steps": 421, "longest_active_time": 61}, "2015083117": {"distance": 181.738664627, "active_time": 0, "calories": 13.3546121716, "inactive_time": 0, "longest_idle_time": 0, "steps": 237, "longest_active_time": 0}, "2015083116": {"distance": 332.0, "active_time": 311, "calories": 29.0, "inactive_time": 2359, "longest_idle_time": 635, "steps": 426, "longest_active_time": 123}, "2015083111": {"distance": 347.0, "active_time": 311, "calories": 19.0, "inactive_time": 3128, "longest_idle_time": 2066, "steps": 469, "longest_active_time": 186}, "2015083110": {"distance": 94.0, "active_time": 0, "calories": 26.0, "inactive_time": 3598, "longest_idle_time": 3598, "steps": 170, "longest_active_time": 0}, "2015083113": {"distance": 444.0, "active_time": 374, "calories": 21.0, "inactive_time": 3143, "longest_idle_time": 2887, "steps": 579, "longest_active_time": 249}, "2015083112": {"distance": 601.0, "active_time": 561, "calories": 28.0, "inactive_time": 2850, "longest_idle_time": 1691, "steps": 806, "longest_active_time": 313}, "2015083119": {"distance": 32.0, "active_time": 0, "calories": 5.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 50, "longest_active_time": 0}, "2015083118": {"distance": 22.0, "active_time": 0, "calories": 6.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 34, "longest_active_time": 0}, "2015083109": {"distance": 368.0, "active_time": 247, "calories": 26.0, "inactive_time": 3183, "longest_idle_time": 1322, "steps": 480, "longest_active_time": 62}}, "bmr_day": 1493.3901398, "wo_active_time": 0, "sunrise": 0, "distance": 4071.24383163, "tz": "America/Los_Angeles", "longest_active": 434, "longest_idle": 5965, "calories": 354.470120284, "km": 4.07124383163, "series_ids": [2255037486], "steps": 5425, "wo_calories": 0, "wo_time": 0, "sunset": 0}, "date2": 20150831, "snapshot_image": "/nudge/image/e/1441503433/PnSMEwtIq1etPRPDvgtjIJ3D46jxLcao/RRuh17UxhWE.png"}, {"time_completed": 1440992333, "xid": "PnSMEwtIq1cwKUbnf4Vd3y2h8IY0D5Oy", "title": "9,845 steps", "type": "move", "time_created": 1440946067, "time_updated": 1452076849, "details": {"active_time": 4579, "tzs": [[1440918045, "America/Los_Angeles"]], "bmr_day": 1462.69573176, "wo_count": 0, "wo_longest": 0, "bmr": 1462.69573176, "bg_calories": 611.479256868, "hourly_totals": {"2015083018": {"distance": 4801.0, "active_time": 2046, "calories": 283.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 4304, "longest_active_time": 1735}, "2015083019": {"distance": 4753.0, "active_time": 2163, "calories": 276.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 4544, "longest_active_time": 1915}, "2015083009": {"distance": 31.3821296692, "active_time": 0, "calories": 1.43611192703, "inactive_time": 2683, "longest_idle_time": 2683, "steps": 39, "longest_active_time": 0}, "2015083008": {"distance": 224.0, "active_time": 186, "calories": 18.0, "inactive_time": 2919, "longest_idle_time": 1813, "steps": 304, "longest_active_time": 123}, "2015083007": {"distance": 150.47328949, "active_time": 0, "calories": 7.61859321594, "inactive_time": 0, "longest_idle_time": 0, "steps": 187, "longest_active_time": 0}, "2015083015": {"distance": 171.394714355, "active_time": 0, "calories": 8.42455172539, "inactive_time": 879, "longest_idle_time": 879, "steps": 213, "longest_active_time": 0}, "2015083017": {"distance": 1.0, "active_time": 0, "calories": 2.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 6, "longest_active_time": 0}, "2015083020": {"distance": 179.0, "active_time": 184, "calories": 15.0, "inactive_time": 0, "longest_idle_time": 0, "steps": 248, "longest_active_time": 63}}, "wo_time": 0, "wo_active_time": 0, "sunrise": 0, "distance": 10311.2501335, "tz": "America/Los_Angeles", "longest_active": 3650, "longest_idle": 29355, "calories": 693.33701656, "km": 10.3112501335, "series_ids": [2252281930], "steps": 9845, "wo_calories": 0, "inactive_time": 32212, "sunset": 0}, "date2": 20150830, "snapshot_image": "/nudge/image/e/1441503430/PnSMEwtIq1cwKUbnf4Vd3y2h8IY0D5Oy/RRuh17UxhWE.png"},  "size": 2}}');
                System.debug('parser========>'+parser);
             MoveDetails sd = null;
           try{
               sd = (MoveDetails)parser.readValueAs(MoveDetails.class);
           }catch(Exception e){
               system.debug('Error--'+e.getMessage());
           }
        if(sd != null && sd.data != null && sd.data.items != null){
            for(Item i : sd.data.items){
                Moves_Data__c sl = new Moves_Data__c(Account__c = acc.Id);
                sl.Active_Time__c = i.details.active_time;
                sl.BG_Calories__c = i.details.bg_calories;
                sl.BMR_Day__c = i.details.bmr_day;
                System.Debug('-------------BMR_Day>'+sl.BMR_Day__c);
                sl.Calories__c = i.details.calories;
                System.Debug('-------------Calories__c>'+sl.Calories__c);
                sl.Distance__c = i.details.distance;
                sl.Estimated_BMR__c = i.details.bmr;
                sl.Inactive_Time__c = i.details.inactive_time;
                sl.Longest_Active_Time__c = i.details.longest_active;
                sl.Longest_Idle_Time__c = i.details.longest_idle;
                sl.Workout_Active_Time__c = i.details.wo_active_time;
                sl.Workout_Count__c = i.details.wo_count;
                sl.Workout_Longest_Time__c = i.details.wo_longest;
                sl.Steps__c = i.details.steps;
                sl.Workout_Calories__c = i.details.wo_calories;
                sl.Workout_Time__c = i.details.wo_time;
                sl.Sunrise__c = i.details.sunrise!=null && i.details.sunrise!=0?Datetime.newInstance(i.details.sunrise*1000):null;
                sl.Sunset__c = i.details.sunset!=null && i.details.sunset!=0?Datetime.newInstance(i.details.sunset*1000):null;
                sl.Time_Completed__c = i.time_completed!=0?Datetime.newInstance(i.time_completed*1000):null;
                sl.Time_Created__c = i.time_created!=0?Datetime.newInstance(i.time_created*1000):null;
                sl.Time_Updated__c = i.time_updated!=0?Datetime.newInstance(i.time_updated*1000):null;
                sl.Timezone__c = i.details.tz;
                sl.Title__c = i.title;
                sl.Name = i.xid;
                String theDate = String.valueOf(i.date2);
                sl.Date__c = Date.parse(theDate.substring(4,6)+'/'+theDate.substring(6,8)+'/'+theDate.substring(0,4));
                //if(maxDate == null || sl.Date__c > maxDate)
                    moveList.add(sl);
                    //insert sl;
                    
            }
            system.debug('--------------->data.link'+sd.data.links);
            system.debug('--------------->data.link.next'+sd.data.links.next);
            system.debug('--------------->data.link.Limits'+Limits.getLimitCallouts());
            insert moveList;
            /*if(sd.data.links != null && sd.data.links.next != null && Limits.getLimitCallouts() > 0){
                
                dataCallout('https://jawbone.com'+sd.data.links.next);
                getData();
            }
            else{
                try{
                system.debug('-------MovesData>'+moveList);
                    insert moveList;
                }catch(Exception e){
                    system.debug('Error '+e.getMessage());
                }
            }*/
        }
    }
    
//    -----------------------------------com.Data.java-----------------------------------
public class Data {
public List<Item> items = new List<Item>();
public Links links{get;set;}
public long size{get;set;}

public List<Item> getItems() {
return items;
}
public void setItems(List<Item> items) {
this.items = items;
}
}
//-----------------------------------com.Details.java-----------------------------------
public class Details {
public long active_time{get;set;}
//public List<List<Long>> tzs = new List<List<Long>>();
public long inactive_time{get;set;}
public long wo_count{get;set;}
public long wo_longest{get;set;}
public double bmr{get;set;}
public decimal bg_calories{get;set;}
//public HourlyTotals hourlyTotals{get;set;}
public double bmr_day{get;set;}
public long wo_active_time{get;set;}
public long sunrise{get;set;}
public decimal distance{get;set;}
public String tz{get;set;}
public long longest_active{get;set;}
public long longest_idle{get;set;}
public double calories{get;set;}
public double km{get;set;}
public List<Long> seriesIds = new List<Long>();
public long steps{get;set;}
public long wo_calories{get;set;}
public long wo_time{get;set;}
public long sunset{get;set;}

public List<Long> getSeriesIds() {
return seriesIds;
}
public void setSeriesIds(List<Long> seriesIds) {
this.seriesIds = seriesIds;
}
}
//-----------------------------------com.Item.java-----------------------------------
public class Item {
public long time_completed{get;set;}
public String xid{get;set;}
public String title{get;set;}
public String snapshotImage{get;set;}
public long time_created{get;set;}
public long time_updated{get;set;}
public Details details{get;set;}
public long date2{get;set;}
public String type{get;set;}
}
//-----------------------------------com.Links.java-----------------------------------
public class Links {
public String next{get;set;}
}
//-----------------------------------com.Meta.java-----------------------------------
public class Meta {
public String user_xid{get;set;}
public String message{get;set;}
public long code{get;set;}
public long time2{get;set;}
}
//-----------------------------------com.MoveDetails.java-----------------------------------
public class MoveDetails {
public Meta meta{get;set;}
public Data data{get;set;}
}

}